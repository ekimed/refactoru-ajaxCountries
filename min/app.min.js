var express=require("express"),bodyParser=require("body-parser"),countries=require("./models/countries.json"),modified=function(e){return e.map(function(e){e.hasTraveled=!1}),e},newData=modified(countries),app=express();app.set("view engine","jade"),app.set("views",__dirname+"/views"),app.use(express.static(__dirname+"/public")),app.use(bodyParser()),app.get("/",function(e,r){r.render("index")}),app.get("/countries",function(e,r){r.send(newData)}),app.post("/search",function(e,r){var a=e.body.search,n=newData.filter(function(e){return e.name===a});r.send(n)}),app.get("/travel",function(e,r){for(var a=e.query.name,n=e.query.hasTraveled,s=0;s<newData.length;s++)if(newData[s].name===a)return newData[s].hasTraveled=n,void 0;r.send(newData)});var server=app.listen(7164,function(){console.log("Express server listening on port "+server.address().port)});